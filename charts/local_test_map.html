<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>本地测试地图 - 颜色深浅</title>
    <script src="/static/js/echarts.min.js"></script>
</head>
<body>
    <h2 style="text-align:center; color:#333;">测试地图 - 本地文件版本</h2>
    <div id="map" style="width:1200px; height:700px; margin:0 auto;"></div>
    <script>
        // 加载中国地图GeoJSON
        fetch('/static/js/china.json')
            .then(response => response.json())
            .then(chinaJson => {
                // 注册地图
                echarts.registerMap('china', chinaJson);
                
                // 创建图表
                var chart = echarts.init(document.getElementById('map'));
                var option = {
                    backgroundColor: "white",
                    title: {
                        text: "测试地图 - 颜色深浅显示（本地文件）",
                        left: "center",
                        top: 20,
                        textStyle: {
                            color: "#333",
                            fontWeight: "bold",
                            fontSize: 22
                        }
                    },
                    tooltip: {
                        show: true,
                        trigger: "item",
                        formatter: "{b}: {c}"
                    },
                    visualMap: {
                        show: true,
                        type: "continuous",
                        min: 1000,
                        max: 6000,
                        left: 20,
                        bottom: "10%",
                        textStyle: {
                            color: "#333",
                            fontSize: 12
                        },
                        inRange: {
                            color: [
                                "#D4E6F9",  // 极浅蓝（最小值）
                                "#7CB9E8",  // 浅蓝
                                "#4682B4",  // 钢蓝
                                "#1E90FF",  // 道奇蓝
                                "#0047AB",  // 钴蓝
                                "#00008B"   // 深蓝（最大值）
                            ]
                        },
                        calculable: true,
                        borderColor: "#999",
                        borderWidth: 1
                    },
                    series: [{
                        type: "map",
                        name: "销售额",
                        map: "china",
                        roam: true,
                        label: {
                            show: true,
                            color: "#000",
                            fontSize: 10
                        },
                        itemStyle: {
                            borderColor: "#CCCCCC",
                            borderWidth: 0.5,
                            areaColor: "#f3f3f3"  // 默认颜色
                        },
                        emphasis: {
                            itemStyle: {
                                areaColor: "#FFD700"
                            }
                        },
                        data: [
                            { name: "北京", value: 6000 },
                            { name: "江苏", value: 5500 },
                            { name: "浙江", value: 4500 },
                            { name: "上海", value: 4000 },
                            { name: "广东", value: 3500 },
                            { name: "山东", value: 3000 },
                            { name: "河北", value: 2500 },
                            { name: "河南", value: 2000 },
                            { name: "湖北", value: 1500 },
                            { name: "天津", value: 1200 }
                        ]
                    }]
                };
                
                chart.setOption(option);
                
                console.log("✅ 地图渲染成功！");
                console.log("ECharts版本:", echarts.version);
            })
            .catch(error => {
                console.error("❌ 加载地图数据失败:", error);
                document.getElementById('map').innerHTML = '<p style="color:red; text-align:center; padding:50px;">地图加载失败: ' + error + '</p>';
            });
    </script>
</body>
</html>






